function MyMenu(e){return!(!document.getElementById||!document.getElementsByTagName)&&(this.menu=document.getElementById(e),this.submenus=this.menu.getElementsByTagName("div"),this.remember=!0,this.speed=3,this.markCurrent=!0,void(this.oneSmOnly=!1))}MyMenu.prototype.init=function(){for(var e=this,t=0;t<this.submenus.length;t++)this.submenus[t].getElementsByTagName("span")[0].onclick=function(){e.toggleMenu(this.parentNode)};if(this.markCurrent)for(var s=this.menu.getElementsByTagName("a"),t=0;t<s.length;t++)if(s[t].href==document.location.href){s[t].className="current";break}if(this.remember){var n=new RegExp("MyMenu_"+encodeURIComponent(this.menu.id)+"=([01]+)"),i=n.exec(document.cookie);if(i)for(var o=i[1].split(""),t=0;t<o.length;t++)this.submenus[t].className=0==o[t]?"collapsed":""}},MyMenu.prototype.toggleMenu=function(e){"collapsed"==e.className?this.expandMenu(e):this.collapseMenu(e)},MyMenu.prototype.expandMenu=function(e){for(var t=e.getElementsByTagName("span")[0].offsetHeight,s=e.getElementsByTagName("a"),n=0;n<s.length;n++)t+=s[n].offsetHeight;var i=Math.round(this.speed*s.length),o=this,a=setInterval(function(){var s=e.offsetHeight,n=s+i;n<t?e.style.height=n+"px":(clearInterval(a),e.style.height="",e.className="",o.memorize())},30);this.collapseOthers(e)},MyMenu.prototype.collapseMenu=function(e){var t=e.getElementsByTagName("span")[0].offsetHeight,s=Math.round(this.speed*e.getElementsByTagName("a").length),n=this,i=setInterval(function(){var o=e.offsetHeight,a=o-s;a>t?e.style.height=a+"px":(clearInterval(i),e.style.height="",e.className="collapsed",n.memorize())},30)},MyMenu.prototype.collapseOthers=function(e){if(this.oneSmOnly)for(var t=0;t<this.submenus.length;t++)this.submenus[t]!=e&&"collapsed"!=this.submenus[t].className&&this.collapseMenu(this.submenus[t])},MyMenu.prototype.expandAll=function(){var e=this.oneSmOnly;this.oneSmOnly=!1;for(var t=0;t<this.submenus.length;t++)"collapsed"==this.submenus[t].className&&this.expandMenu(this.submenus[t]);this.oneSmOnly=e},MyMenu.prototype.collapseAll=function(){for(var e=0;e<this.submenus.length;e++)"collapsed"!=this.submenus[e].className&&this.collapseMenu(this.submenus[e])},MyMenu.prototype.memorize=function(){if(this.remember){for(var e=new Array,t=0;t<this.submenus.length;t++)e.push("collapsed"==this.submenus[t].className?0:1);var s=new Date;s.setTime(s.getTime()+2592e6),document.cookie="MyMenu_"+encodeURIComponent(this.menu.id)+"="+e.join("")+"; expires="+s.toGMTString()+"; path=/"}};